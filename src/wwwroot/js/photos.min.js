window.sidebar=function(){function s(){n=!n;r()}function r(){h();l()}function h(){n?document.body.classList.add("has-sidebar"):document.body.classList.remove("has-sidebar")}function c(){for(let n=0;n<t.length;n++)t[n]()}function l(){localStorage.setItem(i,n)}const i="showSidebar",u=localStorage.getItem(i),f=document.getElementById("mobile-detector"),e=window.getComputedStyle(f).display!="none";let n=!e&&u==="true",o=document.getElementById("sidebar-toggler"),t=[];return o.addEventListener("click",s),document.body.addEventListener("transitionend",c),r(),{subscribe:function(n){t.push(n)}}}();window.imageSizer=function(n){function f(){r=s.clientWidth/t;l=a();v();y()}function a(){let n=null;for(let t=0;t<i.length;t++)r>=i[t]&&(n=i[t]);return n||(n=r<i[0]?i[0]:i[i.length-1]),n}function v(){let n=100/t;c.innerHTML=".photo-thumbnail {width: "+n+"%;";u.disabled=t===1;h.disabled=t===10}function y(){localStorage.setItem(e,t)}const e="imgPerRow",o=localStorage.getItem(e),i=[100,200,300];let s=document.querySelector(n),u=document.getElementById("zoom-plus"),h=document.getElementById("zoom-minus"),c=document.createElement("style"),t=o?parseInt(o):4,r,l;if(s&&u)return document.body.appendChild(c),u.addEventListener("click",function(){t--;f()}),h.addEventListener("click",function(){t++;f()}),f(),{getHeight:function(){return l},getHeightInPx:function(){return r},getImagesPerRow:function(){return t}}}("#thumbnails",window.sidebar);window.thumbnails=function(n){function t(){let u=n&&n.getHeight(),i=document.getElementsByClassName("photo-thumbnail"),t,r;for(let n=0;n<i.length;n++)t=i[n],r=t.getAttribute("data-background-url"),t.style.backgroundImage="url("+r.replace("[size]",u)+")"}return window.addEventListener("resize",t),{render:t}}(window.imageSizer,window.sidebar);window.multiSelect=function(){function r(){t=document.querySelectorAll(".photo-thumbnail-select:checked");i=[];for(let n=0;n<t.length;n++)i.push(t[n].getAttribute("data-id"));c()}function c(){for(let n=0;n<f.length;n++)f[n].disabled=!i.length;n.length===t.length?(e.disabled=!0,o.disabled=!1):(e.disabled=!1,o.disabled=!0)}function h(t){for(let i=0;i<n.length;i++)n[i].checked=t;r()}let f=document.getElementsByClassName("requires-selection"),n=document.querySelectorAll(".photo-thumbnail-select"),e=document.getElementById("select-all"),o=document.getElementById("unselect-all"),t=[],i=[],u=null,s=!1;return document.addEventListener("change",function(t){if(t.shiftKey&&u){let i=!0;s=!0;for(let r=0;r<n.length;r++){if(n[r]==u){i=!0;continue}i&&(t.target.checked=!0);n[r]==t.target&&(i=!1)}}else u=t.target,s=!1;r()}),r(),{getSelectedCheckboxes:function(){return t},getSelectedFiles:function(){return i},selectAll:function(){h(!0)},clearAll:function(){h(!1)},update:r}}();