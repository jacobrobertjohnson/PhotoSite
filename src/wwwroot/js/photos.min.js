window.sidebar=function(){function e(){n=!n;u()}function u(){o();h()}function o(){n?document.body.classList.add("has-sidebar"):document.body.classList.remove("has-sidebar")}function s(){for(let n=0;n<t.length;n++)t[n]()}function h(){localStorage.setItem(i,n)}const i="showSidebar",r=localStorage.getItem(i);let n=r?r==="true":window.innerWidth>480,f=document.getElementById("sidebar-toggler"),t=[];return f.addEventListener("click",e),document.body.addEventListener("transitionend",s),u(),{subscribe:function(n){t.push(n)}}}();window.imageSizer=function(n,t){function r(){let n=c.clientWidth/i;o.setAttribute("disabled",i===1);s.setAttribute("disabled",i===10);n!=u&&(u=n,l(),a())}function l(){let n=100/i;h.innerHTML=".photo-thumbnail {width: "+n+"%;";"}"}function a(){localStorage.setItem(f,i)}const f="imgPerRow",e=localStorage.getItem(f);let c=document.querySelector(n),o=document.getElementById("zoom-plus"),s=document.getElementById("zoom-minus"),h=document.createElement("style"),i=e?parseInt(e):4,u;return document.body.appendChild(h),t.subscribe(r),document.addEventListener("resize",r),o.addEventListener("click",function(){i--;r()}),s.addEventListener("click",function(){i++;r()}),r(),{getHeight:function(){return u}}}("#thumbnails",window.sidebar);window.thumbnails=function(n,t,i){function o(n){e=n}function u(){f.innerHTML="";for(let n=0;n<100;n++)s(e[n])}function s(n){let t=document.createElement("div"),i=r;t.classList.add("photo-thumbnail");t.style.backgroundImage="url("+n.thumbnailUrl.replace("[size]",i)+")";t.innerHTML="&nbsp;";f.appendChild(t)}let f=document.querySelector(n),e=[],r=t.getHeight();return i.subscribe(function(){let n=t.getHeight();n!=r&&(r=n,u())}),window.addEventListener("resize",u),{get:async function(n){const t=await fetch("/Photos/"+n+"/Thumbnails"),i=await t.json();o(i);u()}}}("#thumbnails",window.imageSizer,window.sidebar);