window.sidebar=function(){function e(){n=!n;u()}function u(){o();h()}function o(){n?document.body.classList.add("has-sidebar"):document.body.classList.remove("has-sidebar")}function s(){for(let n=0;n<t.length;n++)t[n]()}function h(){localStorage.setItem(i,n)}const i="showSidebar",r=localStorage.getItem(i);let n=r?r==="true":window.innerWidth>480,f=document.getElementById("sidebar-toggler"),t=[];return f.addEventListener("click",e),document.body.addEventListener("transitionend",s),u(),{subscribe:function(n){t.push(n)}}}();window.imageSizer=function(n){function r(){h=l();a();v()}function l(){let r=c.clientWidth/i,n=null;for(let i=0;i<t.length;i++)r>=t[i]&&(n=t[i]);return n||(n=r<t[0]?t[0]:t[t.length-1]),n}function a(){let n=100/i;s.innerHTML=".photo-thumbnail {width: "+n+"%;";e.disabled=i===1;o.disabled=i===10}function v(){localStorage.setItem(u,i)}const u="imgPerRow",f=localStorage.getItem(u),t=[30,60,100,150,300,500];let c=document.querySelector(n),e=document.getElementById("zoom-plus"),o=document.getElementById("zoom-minus"),s=document.createElement("style"),i=f?parseInt(f):4,h;return document.body.appendChild(s),e.addEventListener("click",function(){i--;r()}),o.addEventListener("click",function(){i++;r()}),r(),{getHeight:function(){return h}}}("#thumbnails",window.sidebar);window.thumbnails=function(n,t){function f(n){r=n}function u(){i.innerHTML="";for(let n=0;n<100;n++)e(r[n])}function e(n){let r=document.createElement("div"),u=t.getHeight();r.classList.add("photo-thumbnail");r.style.backgroundImage="url("+n.thumbnailUrl.replace("[size]",u)+")";r.innerHTML="&nbsp;";i.appendChild(r)}let i=document.querySelector(n),r=[];return window.addEventListener("resize",u),{get:async function(n){const t=await fetch("/Photos/"+n+"/Thumbnails"),i=await t.json();f(i);u()}}}("#thumbnails",window.imageSizer,window.sidebar);